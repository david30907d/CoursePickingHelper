

<!DOCTYPE html>
<html lang="zh-tw" class="han-la">   
<!--  
//                                  _oo8oo_
//                                 o8888888o
//                                 88" . "88
//                                 (| -_- |)
//                                 0\  =  /0
//                               ___/'==='\___
//                             .' \\|     |// '.
//                            / \\|||  :  |||// \
//                           / _||||| -:- |||||_ \
//                          |   | \\\  -  /// |   |
//                          | \_|  ''\---/''  |_/ |
//                          \  .-\__  '-'  __/-.  /
//                        ___'. .'  /--.--\  '. .'___
//                     ."" '<  '.___\_<|>_/___.'  >' "".
//                    | | :  `- \`.:`\ _ /`:.`/ -`  : | |
//                    \  \ `-.   \_ __\ /__ _/   .-` /  /
//                =====`-.____`.___ \_____/ ___.`____.-`=====
//                                  `=---=`
//  
//  
//                       佛祖保佑  　　　　　永無bug
-->             
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>選課小幫手</title>
        <script type="text/javascript"></script>
        <link href="https://cdnjs.cloudflare.com/ajax/libs/Han/2.3.0/han.css" rel="stylesheet">
        <link rel="stylesheet" href="bootstrap/css/bootstrap.min.css">
        <link href="font-awesome-4.3.0/css/font-awesome.min.css" rel="stylesheet">
        <!--<script src="https://cdnjs.cloudflare.com/ajax/libs/Han/2.3.0/han.js"></script>-->
        
        <style>
        /*這裡開始是我寫的，選取表單和選單上的id，並把顏色反白*/
        #icon-text, #icon-text1, #icon-text2, #icon-text3, #icon-text4, #icon-text5
        {
            color: white;
            font-family: "Microsoft JhengHei";
            font-size: 100%;
            font-style: italic;
        }
        body
        {
            background-color:#3074B5;
            background-repeat:no-repeat;
            background-attachment: fixed;
            font-family: "Microsoft JhengHei";
        }
        /*最後改的p是相簿的英文字*/
        #elective-post
        {
            margin-bottom: 10px;
        }
        #btn-tools
        {
            padding: 0;
        }        
        #classification
        {
            padding: 0px;
        }
        /*修改table的border*/
        #time-table tbody th
        {
            white-space: nowrap;
            font-size: 100%;
            height:55px;
        }
        #time-table th
        {
            text-align: center;
        }
        #time-table button.btn-link
        {
            text-align: center;
            color:black;
        }
        #time-table div.title
        {
            text-align: center;
            font-size: 120%;
            padding-bottom: 3px;
        }
        #time-table div.location
        {
            text-align: left;
            font-size: 80%;
        }
        #time-table div.professor
        {
            text-align: right;
            font-size: 80%;
        }
        /*table的屬性結束*/
        .search-class .panel-body
        {
            padding-top: 0;
            padding-bottom  : 0;
        }
        .add
        {
        	color: red;
        }
        #curriculum-title small
        {
            text-align:left;
            color:#333;
        }

        </style>
        <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
	    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
	    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
        <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    	<![endif]-->
    </head>

    <body>

        <!--選取系級的表單結束-->
        <div class="container-fluid">
            <div class="col-md-9">

                <div class="row" id="curriculum-title">
                    <div class="col-xs-4 col-xs-offset-4" style="text-align:center;">
                        <h2>課表</h2>
                        <button id="toggleTable">夜校模式</button>
                    </div>
                    <div class="col-xs-4" style="text-align:left;">
                        <h2><small><span class="glyphicon glyphicon-user" ></span>學分 <span class="badge" id="class_credit"></span></small></h2>
                    </div>
                </div>

                <div class="table-responsive" id="time-table">
                    <table class="table table-striped table-hover table-condensed table-bordered">
                        <thead>
                            <tr class="info">
                                <th style="width: 1px">時間</th>
                                <th style="width: 20%">一</th>
                                <th style="width: 20%">二</th>
                                <th style="width: 20%">三</th>
                                <th style="width: 20%">四</th>
                                <th style="width: 20%">五</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr data-hour="1" class="active">
                                <th>
                                    <h2>1</h2>
                                    <h5>08:10-09:00</h5>
                                </th>
                                <td data-day="1"></td>
                                <td data-day="2"></td>
                                <td data-day="3"></td>
                                <td data-day="4"></td>
                                <td data-day="5"></td>
                            </tr>
                            <tr data-hour="2" class="active">
                                <th>
                                    <h2>2</h2>
                                    <h5>09:10-10:00</h5>
                                </th>
                                <td data-day="1"></td>
                                <td data-day="2"></td>
                                <td data-day="3"></td>
                                <td data-day="4"></td>
                                <td data-day="5"></td>
                            </tr>
                            <tr data-hour="3" class="active">
                                <th>
                                    <h2>3</h2>
                                    <h5>10:10-12:00</h5>
                                </th>
                                <td data-day="1"></td>
                                <td data-day="2"></td>
                                <td data-day="3"></td>
                                <td data-day="4"></td>
                                <td data-day="5"></td>
                            </tr>
                            <tr data-hour="4" class="active">
                                <th>
                                    <h2>4</h2>
                                    <h5>11:10-12:00</h5>
                                </th>
                                <td data-day="1"></td>
                                <td data-day="2"></td>
                                <td data-day="3"></td>
                                <td data-day="4"></td>
                                <td data-day="5"></td>
                            </tr>
                            <tr data-hour="5" class="active">
                                <th>
                                    <h2>5</h2>
                                    <h5>13:10-14:00</h5>
                                </th>
                                <td data-day="1"></td>
                                <td data-day="2"></td>
                                <td data-day="3"></td>
                                <td data-day="4"></td>
                                <td data-day="5"></td>
                            </tr>
                            <tr data-hour="6" class="active">
                                <th>
                                    <h2>6</h2>
                                    <h5>14:10-15:00</h5>
                                </th>
                                <td data-day="1"></td>
                                <td data-day="2"></td>
                                <td data-day="3"></td>
                                <td data-day="4"></td>
                                <td data-day="5"></td>
                            </tr>
                            <tr data-hour="7" class="active">
                                <th>
                                    <h2>7</h2>
                                    <h5>15:10-18:00</h5>
                                </th>
                                <td data-day="1"></td>
                                <td data-day="2"></td>
                                <td data-day="3"></td>
                                <td data-day="4"></td>
                                <td data-day="5"></td>
                            </tr>
                            <tr data-hour="8" class="active">
                                <th>
                                    <h2>8</h2>
                                    <h5>16:10-17:00</h5>
                                </th>
                                <td data-day="1"></td>
                                <td data-day="2"></td>
                                <td data-day="3"></td>
                                <td data-day="4"></td>
                                <td data-day="5"></td>
                            </tr>
                            <tr data-hour="9" class="active">
                                <th>
                                    <h2>9</h2>
                                    <h5>17:10-18:00</h5>
                                </th>
                                <td data-day="1"></td>
                                <td data-day="2"></td>
                                <td data-day="3"></td>
                                <td data-day="4"></td>
                                <td data-day="5"></td>
                            </tr>
                            <tr data-hour="10" class="active" style="display:none">
                                <th>
                                    <h2>A</h2>
                                    <h5>18:20-19:10</h5>
                                </th>
                                <td data-day="1"></td>
                                <td data-day="2"></td>
                                <td data-day="3"></td>
                                <td data-day="4"></td>
                                <td data-day="5"></td>
                            </tr>
                            <tr data-hour="11" class="active" style="display:none">
                                <th>
                                    <h2>B</h2>
                                    <h5>19:15-20:05</h5>
                                </th>
                                <td data-day="1"></td>
                                <td data-day="2"></td>
                                <td data-day="3"></td>
                                <td data-day="4"></td>
                                <td data-day="5"></td>
                            </tr>
                            <tr data-hour="12" class="active" style="display:none">
                                <th>
                                    <h2>C</h2>
                                    <h5>20:10-21:00</h5>
                                </th>
                                <td data-day="1"></td>
                                <td data-day="2"></td>
                                <td data-day="3"></td>
                                <td data-day="4"></td>
                                <td data-day="5"></td>
                            </tr>
                            <tr data-hour="13" class="active" style="display:none">
                                <th>
                                    <h2>D</h2>
                                    <h5>21:05-21:55</h5>
                                </th>
                                <td data-day="1"></td>
                                <td data-day="2"></td>
                                <td data-day="3"></td>
                                <td data-day="4"></td>
                                <td data-day="5"></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <br>
            <!--會出現系選修和體育、通識-->
            <div class="col-md-3" id="classification">
                <div class="container-fluid">
                    <div class="col-xs-4" id="btn-tools">
                        <button type="button" class="btn btn-danger btn-block" data-toggle="modal" data-target="#focus">
                        	<span class="fa fa-heart fa-1x fa-fw"></span>選擇系級
                        </button>
                    </div>
                    <div class="col-xs-4" id="btn-tools">
                        <button type="button" class="btn btn-success btn-block" data-toggle="modal" data-target="#search">
                        	<span class="fa fa-search fa-1x fa-fw"></span>課程查詢
                        </button>
                    </div>
                    <div class="col-xs-4" id="btn-tools">
                        <button type="button" class="btn btn-warning btn-block" id="clear-button">
                        	<span class="fa fa-trash fa-1x fa-fw"></span>清除
                        </button>
                    </div>
                </div>
                <br>

                <div class="search-class" id="bulletin">                    
                    <div class="panel panel-info">
                        <div class="panel-heading">
                            <button type="button" id="obligatory-span" style="background:none; border:none">
                                <span class="glyphicon glyphicon-triangle-bottom"></span>
                                <span class="glyphicon glyphicon-triangle-right" style="display: none;"></span>
                            </button>
                            必修
                            <button type="button" class="close obligatory"><span class="fa fa-trash"></span></button>
                        </div>
                        <div class="panel-body" id="obligatory-post" slide="">                          
                        </div>
                    </div>
                    <div class="panel panel-info">
                        <div class="panel-heading">
                            <button type="button" id="year-span" style="background:none; border:none">
                                <span class="glyphicon glyphicon-triangle-bottom"></span>
                                <span class="glyphicon glyphicon-triangle-right" style="display: none;"></span>
                            </button>
                            學年課
                            <button type="button" class="close general"><span class="fa fa-trash"></span></button>
                        </div>
                        <div class="panel-body" id="year-post">
                        </div>
                    </div>
                    <div class="panel panel-info">
                        <div class="panel-heading">
                            <button type="button" id="elective-span" style="background:none; border:none">
                                <span class="glyphicon glyphicon-triangle-bottom"></span>
                                <span class="glyphicon glyphicon-triangle-right" style="display: none;"></span>
                            </button>選修
                            <button type="button" class="close elective"><span class="fa fa-trash"></span></button>
                        <div class="expander"></div>
                        </div>
                        <div class="panel-body" id="elective-post">
                            <h5 id="">一年級</h5>
                            <div id="freshman">                     
                            </div>
                            <h5 id="">二年級</h5>
                            <div id="sophomore">
                            </div>
                            <h5 id="">三年級</h5>
                            <div id="junior">
                            </div>
                            <h5 id="">四年級</h5>
                            <div id="senior">
                            </div>
                            <h5 id="">五年級</h5>
                            <div id="fifth-grade">                                 
                            </div>
                            <h5 id="">不分年級</h5>
                            <div id="whole-school">                                 

                            </div>
                        </div>
                    </div>
                    <div class="panel panel-info">
                        <div class="panel-heading">
                            <button type="button" id="general-span" style="background:none; border:none">
                                <span class="glyphicon glyphicon-triangle-bottom"></span>
                                <span class="glyphicon glyphicon-triangle-right" style="display: none;"></span>
                            </button>
                            通識
                            <button type="button" class="close general"><span class="fa fa-trash"></span></button>
                        </div>
                        <div class="panel-body" id="general-post">
                            <h5 id="">人文領域</h5>
                            <div id="humanities">
                            </div>
                            <h5 id="">社會科學領域</h5>
                            <div id="social">
                            </div>
                            <h5 id="">自然科學領域</h5>
                            <div id="natural">
                            </div>
                        </div>
                    </div>
                    <div class="panel panel-info">
                        <div class="panel-heading">
                            <button type="button" id="PE-span" style="background:none; border:none">
                                <span class="glyphicon glyphicon-triangle-bottom"></span>
                                <span class="glyphicon glyphicon-triangle-right" style="display: none;"></span>
                            </button>
                            體育
                            <button type="button" class="close PE"><span class="fa fa-trash"></span></button>
                        </div>
                        <div class="panel-body" id="PE-post">
                        </div>
                    </div>
                    <div class="panel panel-info">
                        <div class="panel-heading">
                            <button type="button" id="search-span" style="background:none; border:none">
                                <span class="glyphicon glyphicon-triangle-bottom"></span>
                                <span class="glyphicon glyphicon-triangle-right" style="display: none;"></span>
                            </button>
                            指定搜尋
                            <button type="button" class="close search"><span class="fa fa-trash"></span></button>
                        </div>
                        <div class="panel-body" id="search-post">
                        </div>
                    </div>
                </div>
                <div class="modal fade modal fade bs-example-modal-lg" id="focus" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
                    <div class="modal-dialog modal-lg">
                        <div class="modal-content">
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                                <h3 class="modal-title" id="myModalLabel"><span class="fa fa-heart fa-1x fa-fw"></span>選擇系級</h3>
                            </div>
                            
                        <div class="modal-body">
                            <form class="form-horizontal">
                                <div class="form-group">
                                    <label for="v_career" class="col-xs-2 control-label">學制</label>
                                    <div class="col-xs-10">
                                        <select class="form-control" name="v_career" id="v_career">
                                            <option value="0">請選擇學制</option>
                                            <option value="U">學士班</option>
                                            <option value="G">碩士班</option>
                                            <option value="D">博士班</option>
                                            <option value="R">產專班</option>
                                            <option value="W">碩專班</option>
                                            <option value="N">進修學士班</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="v_major" class="col-xs-2 control-label">系所</label>
                                    <div class="col-xs-10">
                                        <select class="form-control" name="v_major" id="v_major">
                                            <option>請選擇系所</option>
                                            <option>文學院</option>
                                            <option>管理學院</option>
                                            <option>農業暨自然資源學院</option>
                                            <option>中國文學系學士班</option>
                                            <option>外國語文學系學士班</option>
                                            <option>歷史學系學士班</option>
                                            <option>財務金融學系學士班</option>
                                            <option>企業管理學系學士班</option>
                                            <option>法律學系學士班</option>
                                            <option>會計學系學士班</option>
                                            <option>資訊管理學系學士班</option>
                                            <option>景觀與遊憩學士學位學程</option>
                                            <option>生物科技學士學位學程</option>
                                            <option>國際農企業學士學位學程</option>
                                            <option>農藝學系學士班</option>
                                            <option>園藝學系學士班</option>
                                            <option>森林學系林學組學士班</option>
                                            <option>森林學系木材科學組學士班</option>
                                            <option>應用經濟學系學士班</option>
                                            <option>植物病理學系學士班</option>
                                            <option>昆蟲學系學士班</option>
                                            <option>動物科學系學士班</option>
                                            <option value="獸醫學系學士班 A">獸醫學系學士班A</option>
                                            <option value="獸醫學系學士班 B">獸醫學系學士班B</option>
                                            <option>土壤環境科學系學士班</option>
                                            <option>生物產業機電工程學系學士班</option>
                                            <option>水土保持學系學士班</option>
                                            <option>食品暨應用生物科技學系學士班</option>
                                            <option>行銷學系學士班</option>
                                            <option>化學系學士班</option>
                                            <option>生命科學系學士班</option>
                                            <option value="應用數學系學士班 A">應用數學系學士班A</option>
                                            <option value="應用數學系學士班 B">應用數學系學士班B</option>
                                            <option>物理學系一般物理組學士班</option>
                                            <option>物理學系光電物理組學士班</option>
                                            <option>資訊科學與工程學系學士班</option>
                                            <option>學士後太陽能光電系統應用學士學位學程</option>
                                            <option value="機械工程學系學士班 A">機械工程學系學士班A</option>
                                            <option value="機械工程學系學士班 B">機械工程學系學士班B</option>
                                            <option value="土木工程學系學士班 A">土木工程學系學士班A</option>
                                            <option value="土木工程學系學士班 B">土木工程學系學士班B</option>
                                            <option>環境工程學系學士班</option>
                                            <option value="電機工程學系學士班 A">電機工程學系學士班A</option>
                                            <option value="電機工程學系學士班 B">電機工程學系學士班B</option>
                                            <option>化學工程學系學士班</option>
                                            <option>材料科學與工程學系學士班</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="v_level" class="col-xs-2 control-label">年級</label>
                                    <div class="col-xs-10">
                                        <select class="form-control" name="v_level" id="v_level">
                                            <option value="">請選擇年級</option>
                                            <option value="1">一年級</option>
                                            <option value="2">二年級</option>
                                            <option value="3">三年級</option>
                                            <option value="4">四年級</option>
                                            <option value="5">五年級</option>
                                        </select>
                                    </div>
                                </div>
                            </form>
                        </div>

                        <div class="modal-footer">
                            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                            <button type="button" class="btn btn-success" data-dismiss="modal" id="department_search">Submit</button>
                        </div>
                        </div>
                    </div>
                </div>
                <div class="modal fade modal fade bs-example-modal-lg" id="search" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
                    <div class="modal-dialog modal-lg">
                        <div class="modal-content">
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                                <h3 class="modal-title" id="myModalLabel"><span class="fa fa-search fa-1x fa-fw"></span>課程查詢</h3>
                            </div>
                            
                        <div class="modal-body">
                            <form class="form-horizontal">
                                <div class="form-group">
                                    <label for="s_major" class="col-xs-2 control-label">系所</label>
                                    <div class="col-xs-10">
                                        <select class="form-control" name="s_major" id="s_major">
                                            <option value="">-----</option>
                                            <option>文學院</option>
                                            <option>管理學院</option>
                                            <option>農業暨自然資源學院</option>
                                            <option>中國文學系學士班</option>
                                            <option>外國語文學系學士班</option>
                                            <option>歷史學系學士班</option>
                                            <option>財務金融學系學士班</option>
                                            <option>企業管理學系學士班</option>
                                            <option>法律學系學士班</option>
                                            <option>會計學系學士班</option>
                                            <option>資訊管理學系學士班</option>
                                            <option>景觀與遊憩學士學位學程</option>
                                            <option>生物科技學士學位學程</option>
                                            <option>國際農企業學士學位學程</option>
                                            <option>農藝學系學士班</option>
                                            <option>園藝學系學士班</option>
                                            <option>森林學系林學組學士班</option>
                                            <option>森林學系木材科學組學士班</option>
                                            <option>應用經濟學系學士班</option>
                                            <option>植物病理學系學士班</option>
                                            <option>昆蟲學系學士班</option>
                                            <option>動物科學系學士班</option>
                                            <option value="獸醫學系學士班 A">獸醫學系學士班A</option>
                                            <option value="獸醫學系學士班 B">獸醫學系學士班B</option>
                                            <option>土壤環境科學系學士班</option>
                                            <option>生物產業機電工程學系學士班</option>
                                            <option>水土保持學系學士班</option>
                                            <option>食品暨應用生物科技學系學士班</option>
                                            <option>行銷學系學士班</option>
                                            <option>化學系學士班</option>
                                            <option>生命科學系學士班</option>
                                            <option value="應用數學系學士班 A">應用數學系學士班A</option>
                                            <option value="應用數學系學士班 B">應用數學系學士班B</option>
                                            <option>物理學系一般物理組學士班</option>
                                            <option>物理學系光電物理組學士班</option>
                                            <option>資訊科學與工程學系學士班</option>
                                            <option>學士後太陽能光電系統應用學士學位學程</option>
                                            <option value="機械工程學系學士班 A">機械工程學系學士班A</option>
                                            <option value="機械工程學系學士班 B">機械工程學系學士班B</option>
                                            <option value="土木工程學系學士班 A">土木工程學系學士班A</option>
                                            <option value="土木工程學系學士班 B">土木工程學系學士班B</option>
                                            <option>環境工程學系學士班</option>
                                            <option value="電機工程學系學士班 A">電機工程學系學士班A</option>
                                            <option value="電機工程學系學士班 B">電機工程學系學士班B</option>
                                            <option>化學工程學系學士班</option>
                                            <option>材料科學與工程學系學士班</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="s_level" class="col-xs-2 control-label">年級</label>
                                    <div class="col-xs-10">
                                        <select class="form-control" name="s_level" id="s_level">
                                            <option value="">-----</option>
                                            <option value="1">一年級</option>
                                            <option value="2">二年級</option>
                                            <option value="3">三年級</option>
                                            <option value="4">四年級</option>
                                            <option value="5">五年級</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="class_credit" class="col-xs-2 control-label">學分數</label>
                                    <div class="col-xs-10">
                                        <input type="teacher" class="form-control" id= value="0">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="class_title" class="col-xs-2 control-label">課程名稱</label>
                                    <div class="col-xs-10">
                                        <input type="class" class="form-control" id="class_title">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="class_code" class="col-xs-2 control-label">課程代碼</label>
                                    <div class="col-xs-10">
                                        <input type="class" class="form-control" id="class_code">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="class_teacher" class="col-xs-2 control-label">授課教師</label>
                                    <div class="col-xs-10">
                                        <input type="teacher" class="form-control" id="class_teacher">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="class_room" class="col-xs-2 control-label">上課教室</label>
                                    <div class="col-xs-10">
                                        <input type="teacher" class="form-control" id="class_room">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="col-xs-12 control-label" style="text-align: center;">欄位留白表示該條件不設限制</label>
                                </div>
                                <div class="form-group">
                                    <a class="btn btn-lg col-sm-3 col-sm-offset-1" href="https://onepiece.nchu.edu.tw/cofsys/plsql/crseqry_home" target="_blank"><span class="fa fa-graduation-cap fa-1x fa-fw"></span>選課系統</a>
                                    <a class="btn btn-lg col-sm-3" href="http://cah.nchu.edu.tw/class/class_plan.php?new=Y&d_id=3" target="_blank"><span class="fa fa-book fa-1x fa-fw"></span>通識中心</a>
                                    <a class="btn btn-lg col-sm-3" href="https://nchu-am.nchu.edu.tw/nidp/idff/sso?id=3&sid=0&option=credential&sid=0" target="_blank"><span class="fa fa-external-link fa-1x fa-fw"></span>單一簽入</a>
                                </div>
                            </form>
                        </div>

                        <div class="modal-footer">
                            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                            <button type="button" class="btn btn-success" data-dismiss="modal" id="specific_search">Submit</button>
                        </div>
                        </div>
                    </div>
                </div>
            </div>           
            <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
            <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
            <script src="bootstrap/js/bootstrap.min.js"></script>
        <script>
        (function($){
        //先定義JQuery為$，不要讓它衝突
        //var courses = null;
            $(function(){
                //當文件準備好的時候，讀入json檔
                $.getJSON('json/protoC.json', function(json){  //getJSON會用function(X)傳回X的物件或陣列
                    window.credits=0//一開始的學分數是0
                    window.courses = {};//宣告一個空的物件
                    window.course_of_majors = {};//宣告一個空的物件
                    window.course_of_day = {};  //這是宣告日期的陣列
                    window.teacher_course = {}; //這是以老師姓名為index的陣列
                    window.name_of_course = {}; //這是以課程名稱為index的陣列
                    window.name_of_optional_obligatory = [] //這是用來存系上的必修課，檢查有沒有課名是重複的，若有就讓使用者自行決定要上哪堂
                    $("#class_credit").text(0);
                    window.language="zh_TW";//固定顯示語言為中文
                    $.each(json.course, function(ik, iv){
                        if(typeof(window.course_of_majors[iv.for_dept]) == 'undefined')//如果這一列(列的名稱為索引值key)是空的也就是undefined，那就對他進行初始化，{}物件裡面可以放任意的東西，在下面會把很多陣列塞進這個物件裡面
                            window.course_of_majors[iv.for_dept] = {};  
                        if(typeof(window.course_of_majors[iv.for_dept][iv.class]) == 'undefined'){
                            window.course_of_majors[iv.for_dept][iv.class] = [];//如果這一行(列的名稱為索引值key)是空的也就是undefined，那就對他進行初始化，[]裡面的是放陣列
                    	}
                    	window.course_of_majors[iv.for_dept][iv.class].push(iv.code);//把東西推進這個陣列裡，概念跟stack一樣                    	
                    	window.courses[iv.code] = iv;//這邊可以直接把選課號當作索引值key，裡面的值為object
                    	$.each(iv.time_parsed, function(jk, jv){//建立日期的陣列               
                        	$.each(jv.time, function(mk, mv){
	                            if(typeof(window.course_of_day[jv.day])=='undefined'){
	                                window.course_of_day[jv.day]={};
	                            }
	                            if(typeof(window.course_of_day[jv.day][mv])=='undefined'){
	                                window.course_of_day[jv.day][mv]=[];
	                            }
	                            window.course_of_day[jv.day][mv].push(iv);
	                        })
	                    })      
	                    if(typeof(window.teacher_course[iv.professor])=='undefined'){//建立老師名稱的陣列
	                        window.teacher_course[iv.professor]=[];
	                    }
	                    window.teacher_course[iv.professor].push(iv);   
	                    if(typeof(window.name_of_course[iv.title_parsed.zh_TW])=='undefined'){//中文課名陣列
	                        window.name_of_course[iv.title_parsed.zh_TW]=[];
	                    }                                                                               
	                    window.name_of_course[iv.title_parsed.zh_TW].push(iv);
	                    if(typeof(window.name_of_course[iv.title_parsed.en_US])=='undefined'){//英文課名陣列
	                        window.name_of_course[iv.title_parsed.en_US]=[];
	                    }                                                                               
	                    window.name_of_course[iv.title_parsed.en_US].push(iv);
                	});                 
            	});                

                /*//這段是均民的原始碼
                var serializearray=function(){//比較好的方法來取option 的value!!!!
                    $a = $($0)//取到年級選單
                    //[<form class=​"form-horizontal">​…​</form>​]
                    $a.serializeArray()
                    [Objectname: "v_year"value: "103_2"__proto__: Object, Objectname: "v_career"value: "U"__proto__: Object, Objectname: "v_major"value: "C10"__proto__: Object, Objectname: "v_level"value: "1"__proto__: Object]
                    $a.serializeArray()[0].name
                    "v_year"
                    $a.serializeArray()[1].value
                    "U"
                }*/ 
                //////泰瑋的程式遺跡//////
                /*$("#obligatory-span").click(function(){
                	$("#obligatory-post").trigger("slideEvent");

                });   
                $("#obligatory-post").delegate("button.btn-link","slideEvent",function(){
                	$(this).slideToggle( "slow" );
                });
                ///////我用on沒辦法成功使用slideToggle///////
                $("#obligatory-span").click(function(){
                    $("#obligatory-post").attr("slide","on");
                    if ($("#obligatory-post").attr("slide")=="on") {
                        $("#bulletin_post").trigger("slideEvent"); 
                        $("#bulletin_post").on("slideEvent","div[slide|='on']",function(){
                            $(this).slideToggle( "slow" );
                        })              
                    };                  
                });   
                */
                /*******    ↓製作隱藏側欄的功能↓   *******/
                    /***必修***/
                $("#obligatory-span").hover(function(){
                    $(this).addClass('obligatory-post-on');
                }, function(){
                    $(this).removeClass('obligatory-post-on');
                }).click(function(){
                    // 當點到圖案時，若內容是隱藏時則顯示它；反之則隱藏
                    $('#obligatory-post').slideToggle();
                    $('#obligatory-span').find("span").toggle();
                }).siblings('elective-post').hide();
                    /***學年課***/
                $("#year-span").hover(function(){
                    $(this).addClass('year-post-on');
                }, function(){
                    $(this).removeClass('year-post-on');
                }).click(function(){
                    $('#year-post').slideToggle();
                    $('#year-span').find("span").toggle();
                }).siblings('year-post').hide();
                    /***選修***/
                $("#elective-span").hover(function(){
                    $(this).addClass('elective-post-on');
                }, function(){
                    $(this).removeClass('elective-post-on');
                }).click(function(){
                    $('#elective-post').slideToggle();
                    $('#elective-span').find("span").toggle();
                }).siblings('elective-post').hide();
                    /***通識***/
                $("#general-span").hover(function(){
                    $(this).addClass('general-post-on');
                }, function(){
                    $(this).removeClass('general-post-on');
                }).click(function(){
                    $('#general-post').slideToggle();
                    $('#general-span').find("span").toggle();
                }).siblings('general-post').hide();
                    /***體育***/
                $("#PE-span").hover(function(){
                    $(this).addClass('PE-post-on');
                }, function(){
                    $(this).removeClass('PE-post-on');
                }).click(function(){
                    $('#PE-post').slideToggle();
                    $('#PE-span').find("span").toggle();
                }).siblings('PE-post').hide();
                    /***搜尋***/
                $("#search-span").hover(function(){
                    $(this).addClass('search-post-on');
                }, function(){
                    $(this).removeClass('search-post-on');
                }).click(function(){
                    $('#search-post').slideToggle();
                    $('#search-span').find("span").toggle();
                }).siblings('search-post').hide();
                /*******   ↑製作隱藏側欄的功能↑   *******/
                      					           
                $("#bulletin").delegate("span.fa-trash", "click", function(){//這是給垃圾桶用的                    
                    if($(this).parents("button").attr("class")=="close obligatory"){
                    	$("#obligatory-post").empty();
                    }
                    else if($(this).parents("button").attr("class")=="close elective"){
                    	$("#freshman").empty();
                    	$("#sophomore").empty();
                    	$("#junior").empty();
                    	$("#senior").empty();
                    	$("#fifth-grade").empty();
                    }
                    else if($(this).parents("button").attr("class")=="close general"){
                    	$("#general-post").empty();
                    }
                    else if($(this).parents("button").attr("class")=="close PE"){
                    	$("#PE-post").empty();
                    }
                });             
                $("#bulletin").delegate("button.btn-link", "click", function(){//delegate可以去抓到還不存在的東西，第一個$()是指作用的區域，delegate的()裡面就是option，dblclick是事件                                  
                    var code = $(this).val();//this會代表我抓到的那個東西，也就是option
                    course = courses[code];         
                    var check=add_course($('#time-table'), course, language); 
                    if(check=="available"){
                    	change_color($(this),"used");//選過的課程就會改顏色
                    }                                   
                });  
                /**********最主要的系級提交funciton，若要修改請謹慎小心!!!***********/
                $("#department_search").click(function(){//
                	var major=$("#v_major").val();  //取到系                    
                    var level = check_which_class(major,$("#v_level").val());//取到年級
                    major=major.split(" ");
                    major=major[0];                    
                    reset();/*                      
                    var tableArray={1:[1,2,3,4,5,6,7,8],2:[1,2,3,4,5,6,7,8],3:[1,2,3,4,5,6,7,8],4:[1,2,3,4,5,6,7,8],5:[1,2,3,4,5,6,7,8]}                
                    $.each(tableArray,function(ik,iv){
                        $.each(iv,function(jk,jv){
                            var $td = $("#time-table").find('tr[data-hour=' + jv + '] td[data-day='+ik+']');        
                            $td.html('<center><button type="button" class="btn btn-info btn-block plusIcon"><span class="fa fa-plus-circle fa-3x fa-fw "></span></button></center>');
                        })                      
                    })*/
                    $("td").html('<center><button type="button" class="btn btn-info btn-block plusIcon"><span class="fa fa-plus-circle fa-3x fa-fw "></span></button></center>')  
                    if(level==""){//這是給文學院、管理學院與農業暨自然資源學院這種沒有年級的選項
                    	$.each(course_of_majors[major][level],function(ik,iv){//因為這種院的課一定是交給使用者自己選，所以就不自動填入
                    		if(courses[iv].obligatory_tf==true){
                    			bulletin_post($("#obligatory-post"),courses[iv], language);
                    		}
                    		if(courses[iv].obligatory_tf==false){
                                if(courses[iv].class==1){
                                    bulletin_post($("#freshman"),courses[iv], language);
                                }
                                if(courses[iv].class==2){
                                    bulletin_post($("#sophomore"),courses[iv], language);
                                }
                                if(courses[iv].class==3){
                                    bulletin_post($("#junior"),courses[iv], language);
                                }
                                if(courses[iv].class==4){
                                    bulletin_post($("#senior"),courses[iv], language);
                                }
                                if(courses[iv].class==5){
                                    bulletin_post($("#fifth-grade"),courses[iv], language);
                                }
                                if(courses[iv].class==""){
                                	bulletin_post($("#whole-school"),courses[iv], language);
                                }
                            }
                            //check_optional_obligatory(courses[iv]);
                    	});
                    }                      
                    else{
	                    $.each(course_of_majors[major][level], function(ik, iv){//先這一年級的必修課全部跑過一次，計算重複課名的數量
		                    if(courses[iv].obligatory_tf==true){
		                        check_optional_obligatory(courses[iv]); 
		                    }  

		                });                    
	                    $.each(course_of_majors[major][level], function(ik, iv){//知道那些課程會重複之後，再決定那些課程要填入課表
	                        var tmpCh = courses[iv].title_parsed["zh_TW"].split(' ');       //(這是中文課名)切割課程名稱，遇到空格就切開
	                        title_short = tmpCh[0];     //title_short是會自動宣告的區域變數，存沒有英文的課名
	                        if(window.name_of_optional_obligatory[title_short]==1){
	                        	if(title_short=="日文(一)"||title_short=="德文(一)"||title_short=="西班牙文(一)"||title_short=="法文(一)"){//判斷是否為德日西法等語言課
	                        		bulletin_post($("#year-post"),courses[iv],language);
	                        	}
	                        	if(courses[iv].time_parsed==0){//表示應該為實習課，所以無時間，神奇的是[]在boolean判斷式中居然會被當作0
	                        		bulletin_post($("#obligatory-post"),courses[iv],language);
	                        	}
	                        	else{
	                        		add_course($('#time-table'), courses[iv], language);//如果這個課名只有出現過一次，就可以自動填入
	                        	}                            
	                        }       
	                        else{
	                        	show_optional_obligatory(courses[iv]);//若重複出現，則讓使用者自己決定
	                        }
	                        
	                    });
	                    $.each(course_of_majors[major], function(ik, iv){//系上所有的選修課都先填入bulletin             
	                        $.each(iv,function(jk, jv){ 
	                            if(courses[jv].obligatory_tf==false){
	                                check_which_bulletin(jv);//由fuction決定該貼到哪個年級的欄位
	                            }                       
	                        })
	                    })//以上為必修 選修填入 
	                } 	                
                });  
                window.sub_major=$("#s_major").val();//為了方便使用者不斷查詢某一系不同年級的課
                window.sub_level=$("#s_level").val();//所以不會自動將這兩個欄位清空到預設值，所以要判斷當這兩個欄位有更動才進行查詢動作 
                $("#specific_search").click(function()  //可以用課號搜尋，把input的的課號用.val()取出                
                {                   	
                	var major=$("#s_major").val();
                	var level=$("#s_level").val();  
                	var code = $("#class_code").val();  //課號搜尋
                	var class_title=$("#class_title").val();//課程名稱搜尋
                	var teacher = $("#class_teacher").val();//老師名稱搜尋
                	if(major==sub_major&&level==sub_level){
                		$("#search-post").empty();//每次搜尋都需要把指定搜尋的欄位給清空                                      
                    	if(code!=""){
                    	    bulletin_post($("#search-post"),courses[code], language);
                    	    $("#class_code").val("");
                    	}                           
                    	if(class_title!=""){
                    	    $.each(name_of_course, function(ik, iv){
                    	        if(ik.search(class_title)!=-1){
                    	            $.each(iv,function(jk, jv){
                    	                bulletin_post($("#search-post"),jv, language);
                    	            });
                    	        }                           
                    	    })  
                    	    $("#class_title").val("");                                            
                    	}                       
                    	if(teacher!=""){
                    	    $.each(teacher_course[teacher], function(ik, iv){	                           
                    	        bulletin_post($("#search-post"),iv, language);
                    	    });
                    	    $("#class_teacher").val("");
                    	}          
                	}
                	else{
                		sub_major=major;//紀錄這次提交的系級，好讓下次判斷有沒有變動
                		sub_level=level;
                		var level = check_which_class(major,$("#s_level").val());//取到年級
                    	major=major.split(" ");//這兩行是為了處理有分A、B班的系的字串，只要取系就好，AB就砍掉八
                    	major=major[0];    
                    	reset_for_time_request();
                		department_course_for_specific_search(major,level); 
                	}              	                	           	                                              		                	 
                });
                $("#clear-button").click(function()
                {
                    reset();
                    $("td").html('<center><button type="button" class="btn btn-info btn-block plusIcon"><span class="fa fa-plus-circle fa-3x fa-fw "></span></button></center>');//再把加號的按鈕填上去
                });
                $("#time-table").on( "click", "button[class='close delete']",function(){//這是用來把一整個課程都刪掉的按鈕                	                   
                    var code = $(this).children("input").val();//找到子代的input，然後把裡面的代碼給取出來
                    delete_course($('#time-table'), courses[code]); //就跟add_course一樣，只是把填東西改成刪掉                                                  
                });                             
                $("#time-table").on("click","button.plusIcon",function(){ //按一下課表欄位就有課程彈出來了
                    if($(this).text()==""){ //我現在才知道null!=""
                        var major=$("#v_major").val();  //取到系
                    	var s_major=$("#s_major").val();
                    	var s_level=$("#s_level").val();
                    	s_level=check_which_class(s_major,s_level);//用這個function就可以處理有分A、B班的系，若無則為正常的年級
                    	major=major.split(" ");//這兩行是為了處理有分A、B班的系的字串，只要取系就好，AB就砍掉八
                    	major=major[0];  
                    	s_major=s_major.split(" ");//這兩行是為了處理有分A、B班的系的字串，只要取系就好，AB就砍掉八
                    	s_major=s_major[0];  
                    	console.log(s_major);
                    	console.log(s_level);
                        var day=$(this).closest("td").attr("data-day");//因為我把同一時段的課程塞進陣列裡，所以要用index去取
                        var hour=$(this).closest("tr").attr("data-hour");   
                        reset_for_time_request();
                        $.each(course_of_day[day][hour], function(ik, iv){                    
                            if(iv.for_dept==major||((iv.for_dept==s_major)&&(iv.class==s_level))){//判斷如果不是這個系的課就不要顯示出來，以後應該可以再按照系級進化陣列    
                            	if(iv.obligatory_tf==true){                            		
                            		bulletin_post($("#obligatory-post"),course_of_day[day][hour][ik], language); //因為我把同一時段的課程塞進陣列裡，所以要用index去取
                            	}
                                if(iv.obligatory_tf==false){
                                	check_which_bulletin(iv.code);//由fuction決定該貼到哪個年級的欄位
                            		
                            	}
                            }                                           
                        })                  
                    }                   
                });/*
                $("#obligatory-check").change(function(){//用來檢查勾選表被選了沒
                    if ($(this).prop("checked")){//如果選了，就設定成隱藏的css屬性
                        $("#obligatory-post").css("display", "");                       
                    };
                    if($(this).prop("checked")==false){//如果沒有就恢復成空的
                        $("#obligatory-post").css("display", "none");
                    }
                });     */   

                /*   
                $(document).ready(function(){                    
                    $(document).delegate("[data-toggle='tooltip']","load",function(){
                    	$(this).tooltip();
                    })     
                });//這是tooltip的原版*/ 
				/**********用來把夜校的欄位隱藏起來***********/
                $("#toggleTable").click(function(){
                	$("tr:gt(9)").toggle("slow");
                	if($(this).text()=="夜校模式"){
                		$(this).text("日校模式");
                	}
                	else{
                		$(this).text("夜校模式");
                	}
                });
            });
            
            window.week = ["一", "二", "三", "四", "五"];
            /************這是用來把課程放到右邊的欄位**************/
            var bulletin_post = function($target, course, language){ 
                if( $.type(course.title_parsed)!=="object" )            //判斷課程名稱是不是物件
                    throw 'title_parsed error';
                if( language=="zh_TW" ){
                    course.title_short = course.title_parsed["zh_TW"];      //title_short是會自動宣告的區域變數，存沒有英文的課名               
                }
                else{
                    course.title_short = course.title_parsed["en_US"];              
                }               
                var time = [];//time設定為空陣列
                var $td;
                time.push("上課時間:");
                $.each(course.time_parsed, function(ik, iv){        
                    time.push("星期"+week[iv.day-1]+iv.time);//push是把裡面的元素變成陣列的一格     
                })
                time.push("代碼:"+course.code);
                time = time.join(' ');//把多個陣列用" "分隔並合併指派給time
                //var time = course.time_parsed.day+course.time_parsed.time;
                var $option = $($.parseHTML('<button type="button" class="btn btn-link" data-toggle="tooltip" data-placement="top" style="color:#3074B5;" title="" value=""></button>'));//把option做成dom，再把dom做成jQuery物件
                //<button type="button" class="btn btn-default" data-toggle="tooltip" data-placement="left" >Tooltip on left</button>
                $option.text(course.title_short);   //將對應的課程內容寫入cell的html語法中    
                $option.attr("title", time);  //在title裡面放課堂時間
                $option.val(course.code);
                //把現在找到的這門選修課課程代碼儲存到這個option，並用value表示
                $target.append($option);        //顯示課程，把$option放到elective-post，append是追加在後面
                $('[data-toggle="tooltip"]').tooltip(); //讓tooltip功能綁上去
            };
            var add_course = function($target, course, language) {      //假設target為time-table的參數，course為courses的某一個課程
                if( !$.isArray(course.time_parsed) )
                    throw 'time_parsed error';      //判斷time-parsed是不是陣列
                if( $.type(course.title_parsed)!=="object" )            //判斷課程名稱是不是物件
                    throw 'title_parsed error';
                if(language == "zh_TW"){
                    var tmpCh = course.title_parsed["zh_TW"].split(' ');        //(這是中文課名)切割課程名稱，遇到空格就切開
                    course.title_short = tmpCh[0];      //title_short是會自動宣告的區域變數，存沒有英文的課名               
                }
                else{
                    var tmpEn = course.title_parsed["en_US"];
                    course.title_short = tmpEn;             
                }                       
                var check_conflict = false; //他用來判斷是否衝堂，如果有則下面的if就會讓最外圈的each停止
                $.each(course.time_parsed,function(ik, iv){
                    $.each(iv.time,function(jk, jv){
                        var $td = $target.find('tr[data-hour=' + jv + '] td:eq(' + (iv.day-1) + ')');
                        if($td.text()!=""){//用來判斷td裡面是不已經有放過課程了，但若先在裡面放個按鈕那.text()回傳回來的也是空字串                    
                            check_conflict = true;
                            alert("衝堂喔!請手動刪除衝堂的課程"+"\n"+"opps!You are not available at that     time! Please drop out some class");
                            return false;//傳回false就是跳離迴圈
                        }                           
                    });
                    if(check_conflict==true){
                        return false;
                    }
                });
                if(check_conflict==false){                	
                    $.each(course.time_parsed, function(ik, iv){                            
                        $.each(iv.time, function(jk, jv){       //同上，iv.    time為"time"的陣列{3,4}，jk為0~1、jv為3~4(節數)                   
                          	var $td = $target.find('tr[data-hour=' + jv + '] td:eq(' + (iv.day-1) + ')');   
                          	var $cell = $($.parseHTML('<div><div><button type="button" class="close delete" data-dismiss="alert" aria-label="Close" style="color:red;"><span aria-hidden="true"  style="color:red;">&times;</span><input type="hidden" name="code-of-course" value=""></button></div><div class="title"></div><div class="row"><div class="professor col-xs-6"></div><div class="location col-xs-6"></div>'));
                            //把上面的html格式匯入找到的td type中(  parseHtml把後面的包裝成dom，再用一個$包裝成jQuery物件)
                            $cell.find('.title').text(course.title_short).end()
                            $cell.find('input').val(course.code).end()      //  將對應的課程內容寫入cell的html語法中，.title就是class="title"
                                 .find('.professor').text(course.professor).end()//text()   會把東西填入找到的class那裡，end()會回到var $cell那一行
                                 .find('.location').text(course.location);                              
                            $td.html($cell.html());     //顯示課程，把cell.html()塞到<td>tag裡面，就算裡面原本有按鈕也會直接被蓋掉
                        });
                    });
                    add_credits(course);
                }
                if(check_conflict==false){
                	return("available");//沒衝堂，可以變色
                }
                else{
                	return("conflict")//衝堂，不要變色
                }
            };

            /**********這是用來刪除衝堂的課程***********/
            var delete_conflict = function($target, course, stop_day, stop_time) {      
            //假設target為time-table的參數，course為courses的某一個課程
                $.each(course.time_parsed, function(ik, iv){
                    //each是for迴圈 time-parsed[{...}, {...}]，以微積分為例:一個{"day"+"time"}就是陣列的一格，所以ik為0~1(兩次)  
                    var already_delete = false;
                    if(already_delete){
                        return false;
                    }
                    $.each(iv.time, function(jk, jv){       //同上，iv.time為"time"的陣列{3,4}，jk為0~1、jv為3~4(節數)
                        if(iv.day==stop_day&&jv==stop_time){
                            already_delete=true;
                            return false;
                        }
                        //console.log("刪掉了"+iv.day+" "+jv+" ");
                        var $td = $target.find('tr[data-hour=' + jv + '] td:eq(' + (iv.day-1) + ')');   
                        //td:eq()為搜尋td的陣列索引值，找到課程的時間    iv.day為星期，但因為td為陣列所以iv.day要減一    find()是找class!!    
                        //console.log($td);         
                        $td.empty();    //顯示課程，把cell.html()塞到<td>tag裡面
                    })
                })
            };

            /**********這個函式是用來刪除一整門課程的**********/
            var delete_course = function($target, course) {
            //假設target為time-table的參數，course為courses的某一個課程               
                $.each(course.time_parsed, function(ik, iv){
                //each是for迴圈 time-parsed[{...}, {...}]，以微積分為例:一個{"day"+"time"}就是陣列的一格，所以ik為0~1(兩次)
                    $.each(iv.time, function(jk, jv){       //同上，iv.time為"time"的陣列{3,4}，jk為0~1、jv為3~4(節數)
                        var $td = $target.find('tr[data-hour=' + jv + '] td:eq(' + (iv.day-1) + ')');   
                        //td:eq()為搜尋td的陣列索引值，找到課程的時間    iv.day為星期，但因為td為陣列所以iv.day要減一    find()是找class!!
                        $td.empty();    //顯示課程，把cell.html()塞到<td>tag裡面
                        $td.html('<center><button type="button" class="btn btn-info btn-block plusIcon"><span class="fa fa-plus-circle fa-3x fa-fw "></span></button></center>');
                    })
                })
                minus_credits(course);                
                change_color($("button[value="+course.code+"]"),"restore");
            };
            var add_credits = function(course){//增加學分
                window.credits+=parseInt(course.credits);//要先把字串型態的學分轉成int才能做加減
                $("#class_credit").text(window.credits);
            };
            var minus_credits = function(course){
                window.credits-=parseInt(course.credits);
                $("#class_credit").text(window.credits);
            };
            var reset=function(){
                $('#time-table td').empty(); //把目前的time-table清空，好讓下個年級的課程能夠乾淨的顯示
                $('#obligatory-post').empty();//以下是要清掉選修課程、指定時間搜尋等課程
            	$('#freshman').empty();
                $('#sophomore').empty();
                $('#senior').empty();
                $('#junior').empty();
                $('#fifth-grade').empty();
                $('#whole-school').empty();                               
                $('#general-post').empty();
                $('#PE-post').empty();  
                $('#search-post').empty();
                window.credits=0;
                $("#class_credit").text(window.credits);
                window.name_of_optional_obligatory=[];//把數過的課程清空
            } 
            var reset_for_time_request=function(){//這個function是在你的td的時候，會把該時段的課程顯示，但是要先把顯示欄位清空
            	$('#obligatory-post').empty();//以下是要清掉選修課程、指定時間搜尋等課程
            	$('#freshman').empty();
                $('#sophomore').empty();
                $('#senior').empty();
                $('#junior').empty();
                $('#fifth-grade').empty();
                $('#whole-school').empty();                               
                $('#general-post').empty();
                $('#PE-post').empty();                
            }   
            var change_color=function($target,command){//一旦添加了課程，則側欄的課名改了顏色 
            	if(command=="restore"){
            		$target.css("color","#3074B5");
            	}
                else if(command=="used"){
                	$target.css("color","red");
                }
                else{
                	alert("遇到不可預期的錯誤，請聯絡開發小組XD");
                }
            } 
            var check_optional_obligatory=function(course){//用來確認這個戲有幾堂必修課是同名的
                var tmpCh = course.title_parsed["zh_TW"].split(' ');        //(這是中文課名)切割課程名稱，遇到空格就切開
                course.title_short = tmpCh[0];      //title_short是會自動宣告的區域變數，存沒有英文的課名
                if(typeof(window.name_of_optional_obligatory[course.title_short]) == 'undefined'){//如果這一列(列的名稱為索引值key)是空的也就是undefined，那就對他進行初始化，{}物件裡面可以放任意的東西，在下面會把很多陣列塞進這個物件裡面
                    window.name_of_optional_obligatory[course.title_short] = 1;
                }
                else{
                    window.name_of_optional_obligatory[course.title_short]++;
                } 
                console.log(course.title_short+window.name_of_optional_obligatory[course.title_short]);
            } 
            var show_optional_obligatory=function(course){
                var tmpCh = course.title_parsed["zh_TW"].split(' ');        //(這是中文課名)切割課程名稱，遇到空格就切開
                course.title_short = tmpCh[0];      //title_short是會自動宣告的區域變數，存沒有英文的課名
                if(window.name_of_optional_obligatory[course.title_short]>1){
                    bulletin_post($("#obligatory-post"),course,language);
                }
            }
            var check_which_class=function(major,level){//確定他是不是有分A、B班
            	if(major=="獸醫學系學士班 A"||major=="獸醫學系學士班 B"||major=="應用數學系學士班 A"||major=="應用數學系學士班 B"||major=="機械工程學系學士班 A"||major=="機械工程學系學士班 B"||major=="土木工程學系學士班 A"||major=="土木工程學系學士班 B"||major=="電機工程學系學士班 A"||major=="電機工程學系學士班 B"){
            		var subclass=major.split(" ");//A班或B班            		
            		subclass=subclass[1];            		
            		var level = level;    //取到年級
            		level=(level+subclass);            		
            		return level; 
            	}
            	else{            		
            		return (level);    //取到年級
            	}
            } 
            var check_which_bulletin=function(courseCode){//為了判斷A、B班以及不分班的科系開被放到哪個bulletin
            	if(courses[courseCode].class=="1"||courses[courseCode].class=="1A"||courses[courseCode].class=="1B"){
	                bulletin_post($("#freshman"),courses[courseCode], language);
	            }
	            if(courses[courseCode].class=="2"||courses[courseCode].class=="2A"||courses[courseCode].class=="2B"){
	                bulletin_post($("#sophomore"),courses[courseCode], language);
	            }
	            if(courses[courseCode].class=="3"||courses[courseCode].class=="3A"||courses[courseCode].class=="3B"){
	                bulletin_post($("#junior"),courses[courseCode], language);
	            }
	            if(courses[courseCode].class=="4"||courses[courseCode].class=="4A"||courses[courseCode].class=="4B"){
	                bulletin_post($("#senior"),courses[courseCode], language);
	            }
	            if(courses[courseCode].class=="5"||courses[courseCode].class=="5A"||courses[courseCode].class=="5B"){
	                bulletin_post($("#fifth-grade"),courses[courseCode], language);
	            }
	            if(courses[courseCode].class==""){
                    bulletin_post($("#whole-school"),courses[courseCode], language);
                }
            } 
            var department_course_for_specific_search=function(major,level){            	
                $.each(course_of_majors[major][level],function(ik,iv){//因為這種院的課一定是交給使用者自己選，所以就不自動填入
                	if(courses[iv].obligatory_tf==true){
                		bulletin_post($("#obligatory-post"),courses[iv], language);
                	}
                	if(courses[iv].obligatory_tf==false){//因為不知道使用這輸入的年級為幾年級，所以只好一個一個判斷該放到哪個bulletin
                        check_which_bulletin(iv);
                    }
                    //check_optional_obligatory(courses[iv]);
                });                                                            
            }                     
        })(jQuery);
        </script>
        </body>
    </html>
